2025-08-23 21:56:01,848 - database_manager_v2 - INFO - DatabaseManager initialized with path: blue_pharma_v2.db
2025-08-23 21:56:01,886 - database_manager_v2 - INFO - Database schema initialized successfully
2025-08-23 21:56:03,773 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/getMe "HTTP/1.1 200 OK"
2025-08-23 21:56:03,889 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/deleteWebhook "HTTP/1.1 200 OK"
2025-08-23 21:56:03,891 - telegram.ext.Application - INFO - Application started
2025-08-23 21:56:14,239 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/getUpdates "HTTP/1.1 200 OK"
2025-08-23 21:56:24,406 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/getUpdates "HTTP/1.1 200 OK"
2025-08-23 21:56:27,207 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/getUpdates "HTTP/1.1 200 OK"
2025-08-23 21:56:27,669 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/sendMessage "HTTP/1.1 200 OK"
2025-08-23 21:56:34,908 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/getUpdates "HTTP/1.1 200 OK"
2025-08-23 21:56:35,601 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/answerCallbackQuery "HTTP/1.1 200 OK"
2025-08-23 21:56:35,787 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/editMessageText "HTTP/1.1 200 OK"
2025-08-23 21:56:41,640 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/getUpdates "HTTP/1.1 200 OK"
2025-08-23 21:56:42,131 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/sendMessage "HTTP/1.1 200 OK"
2025-08-23 21:56:44,406 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/getUpdates "HTTP/1.1 200 OK"
2025-08-23 21:56:44,572 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/answerCallbackQuery "HTTP/1.1 200 OK"
2025-08-23 21:56:44,773 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/editMessageText "HTTP/1.1 200 OK"
2025-08-23 21:56:53,517 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/getUpdates "HTTP/1.1 200 OK"
2025-08-23 21:56:54,258 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/sendMessage "HTTP/1.1 200 OK"
2025-08-23 21:56:55,909 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/getUpdates "HTTP/1.1 200 OK"
2025-08-23 21:56:56,073 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/answerCallbackQuery "HTTP/1.1 200 OK"
2025-08-23 21:56:56,078 - __main__ - ERROR - Error showing medicines: 'NoneType' object has no attribute 'reply_text'
2025-08-23 21:56:56,095 - __main__ - ERROR - Update Update(callback_query=CallbackQuery(chat_instance='2039802977685144815', data='view_medicines', from_user=User(first_name='Gemechis', id=7264670729, is_bot=False, language_code='en', last_name='Bedasa', username='gemechisbedassa1'), id='3531407088431550148', message=Message(channel_chat_created=False, chat=Chat(first_name='Gemechis', id=7264670729, last_name='Bedasa', type=<ChatType.PRIVATE>, username='gemechisbedassa1'), date=datetime.datetime(2025, 8, 23, 18, 56, 54, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=12, offset=356, type=<MessageEntityType.BOT_COMMAND>), MessageEntity(length=8, offset=360, type=<MessageEntityType.ITALIC>), MessageEntity(length=45, offset=368, type=<MessageEntityType.ITALIC>), MessageEntity(length=10, offset=413, type=<MessageEntityType.BOT_COMMAND>), MessageEntity(length=10, offset=413, type=<MessageEntityType.ITALIC>), MessageEntity(length=35, offset=423, type=<MessageEntityType.ITALIC>), MessageEntity(length=7, offset=458, type=<MessageEntityType.BOT_COMMAND>), MessageEntity(length=7, offset=458, type=<MessageEntityType.ITALIC>), MessageEntity(length=40, offset=465, type=<MessageEntityType.ITALIC>), MessageEntity(length=8, offset=505, type=<MessageEntityType.BOT_COMMAND>), MessageEntity(length=8, offset=505, type=<MessageEntityType.ITALIC>), MessageEntity(length=23, offset=513, type=<MessageEntityType.ITALIC>), MessageEntity(length=5, offset=536, type=<MessageEntityType.BOT_COMMAND>), MessageEntity(length=5, offset=536, type=<MessageEntityType.ITALIC>), MessageEntity(length=47, offset=541, type=<MessageEntityType.ITALIC>), MessageEntity(length=12, offset=588, type=<MessageEntityType.BOT_COMMAND>), MessageEntity(length=7, offset=588, type=<MessageEntityType.ITALIC>), MessageEntity(length=12, offset=634, type=<MessageEntityType.BOT_COMMAND>), MessageEntity(length=5, offset=641, type=<MessageEntityType.ITALIC>), MessageEntity(length=30, offset=646, type=<MessageEntityType.ITALIC>), MessageEntity(length=12, offset=676, type=<MessageEntityType.BOT_COMMAND>), MessageEntity(length=7, offset=676, type=<MessageEntityType.ITALIC>), MessageEntity(length=16, offset=737, type=<MessageEntityType.PHONE_NUMBER>), MessageEntity(length=21, offset=761, type=<MessageEntityType.EMAIL>)), from_user=User(first_name='Blu Pharmacy bot', id=7599074953, is_bot=True, username='blupharmatradingplcbot'), group_chat_created=False, message_id=1058, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='add_medicine', text='üìù Add Medicine'),), (InlineKeyboardButton(callback_data='view_medicines', text='üíä View Medicines'),), (InlineKeyboardButton(callback_data='stock_menu', text='üìä Stock Management'),), (InlineKeyboardButton(callback_data='contact', text='üìû Contact'),))), supergroup_chat_created=False, text="üè• Welcome to Blue Pharma Trading PLC!\n\nHello Gemechis! I'm your comprehensive pharmacy management bot with enhanced features.\n\nüíä üÜï 6-Field Medicine System:\nOur simplified system uses exactly 6 fields:\n1. Medicine Name\n2. Batch Number  \n3. Manufacturing Date\n4. Expiring Date\n5. Dosage Form (Tablet, Capsule, etc.)\n6. Price (ETB)\n\nüì± Available Commands:\n/addmedicine - Add medicines with 6-question guided flow\n/medicines - View all medicines (new format)\n/search [name] - Search for specific medicines\n/contact - Contact information\n/help - Comprehensive help\n\nüîß **For Staff/Admin:**\n/managestock - Complete stock management menu\n/updatestock - Update medicine quantities\n/exportstock - Export inventory to Excel\n\nüìû Contact:\nPhone: +251-11-555-0123\nEmail: contact@bluepharma.et\n\nReady to manage your pharmacy efficiently! üöÄ")), update_id=478744492) caused error 'NoneType' object has no attribute 'reply_text'
2025-08-23 21:56:56,245 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/sendMessage "HTTP/1.1 200 OK"
2025-08-23 21:57:01,505 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/getUpdates "HTTP/1.1 200 OK"
2025-08-23 21:57:01,937 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/answerCallbackQuery "HTTP/1.1 200 OK"
2025-08-23 21:57:02,132 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7599074953:AAFw4pu9HROg09idKXVmM6xDEgOA1B94oNk/editMessageText "HTTP/1.1 200 OK"
